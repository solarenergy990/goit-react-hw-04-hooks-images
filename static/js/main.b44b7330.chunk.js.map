{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.module.css","components/App/App.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/Container/Container.js","services/image-api.js","utils/dataExtractor.js","components/App/App.js","index.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","ImageGalleryItem","image","onModalOpen","smallImg","imgTag","largeImg","className","s","src","alt","onClick","evt","target","attributes","value","ImageGalleryItemImage","imageGallery","imageArr","ImageGallery","map","imageId","Searchbar","onSubmit","useState","imageName","setImageName","SearchForm","preventDefault","trim","alert","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","Button","modalRoot","document","querySelector","Modal","onModalClose","useEffect","window","addEventListener","onEscDown","removeEventListener","code","createPortal","Overlay","Container","props","children","container","imageAPI","fetchImage","query","page","url","fetch","then","response","ok","json","hits","dataExtractor","pictures","id","webformatURL","largeImageURL","tags","App","setPictures","currentPage","setCurrentPage","searchQuery","setSearchQuery","isLoading","setIsLoading","openModal","setOpenModal","setLargeImg","prevPictures","length","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","modalToggler","prevOpenModal","imgLink","color","height","width","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b44b7330.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__OrJiP\",\"Modal\":\"Modal_Modal__3DQWS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__22CpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1frTN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2GSnt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1podF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2p7Zt\",\"SearchForm\":\"Searchbar_SearchForm__2cyte\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1Zbyj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3oNjX\",\"SearchFormInput\":\"Searchbar_SearchFormInput__LFha7\"};","import React from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ image, onModalOpen }) => {\n  // console.log(image);\n  const { smallImg, imgTag, largeImg } = image;\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={smallImg}\n        alt={imgTag}\n        onClick={(evt) => {\n          onModalOpen(evt.target.attributes[\"data-large\"].value);\n        }}\n        className={s.ImageGalleryItemImage}\n        data-large={largeImg}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    imageId: PropTypes.number.isRequired,\n    imgTag: PropTypes.string.isRequired,\n    smallImg: PropTypes.string.isRequired,\n    largeImg: PropTypes.string.isRequired,\n  }),\n\n  onModalOpen: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport propTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst imageGallery = ({ imageArr, onModalOpen }) => {\n  return (\n    <div>\n      <ul className={s.ImageGallery}>\n        {imageArr &&\n          imageArr.map((image) => {\n            return (\n              <ImageGalleryItem\n                image={image}\n                key={image.imageId}\n                onModalOpen={onModalOpen}\n              />\n            );\n          })}\n      </ul>\n    </div>\n  );\n};\n\nimageGallery.propTypes = {\n  imageArr: propTypes.arrayOf(propTypes.object).isRequired,\n  onModalOpen: propTypes.func.isRequired,\n};\n\nexport default imageGallery;\n","import React, { useState } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport propTypes from \"prop-types\";\n\nconst Searchbar = ({ onSubmit }) => {\n  const [imageName, setImageName] = useState(\"\");\n\n  const handleNameChange = (evt) => {\n    setImageName(evt.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (imageName.trim() === \"\") {\n      alert(\"Enter search query in the search field\"); //toastify here later\n      return;\n    }\n\n    onSubmit(imageName);\n    setImageName(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleNameChange}\n          value={imageName}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: propTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from \"react\";\nimport s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load More\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { useEffect } from \"react\";\nimport s from \"./Modal.module.css\";\nimport { createPortal } from \"react-dom\";\nimport propTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ onModalClose, src, alt }) => {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", onEscDown);\n    return () => {\n      window.removeEventListener(\"keydown\", onEscDown);\n    };\n  });\n\n  const onEscDown = (evt) => {\n    if (evt.code === \"Escape\") {\n      onModalClose();\n    }\n  };\n  const onBackdropClick = (evt) => {\n    if (evt.currentTarget === evt.target) {\n      onModalClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={onBackdropClick}>\n      <div className={s.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nModal.propTypes = {\n  onModalClose: propTypes.func.isRequired,\n  src: propTypes.string.isRequired,\n  alt: propTypes.string.isRequired,\n};\n\nexport default Modal;\n","import React from \"react\";\nimport s from \"./Container.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Container = (props) => {\n  const { children } = props;\n  return <div className={s.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","const API_KEY = \"21934405-57162f124158c436f0bdddd5d\";\nconst BASE_URL = \"https://pixabay.com/api\";\n\n// https://pixabay.com/api/?key=21934405-57162f124158c436f0bdddd5d&q=yellow+flowers&image_type=photo\n\nfunction fetchImage(query, page) {\n  // console.log(\"api arguments:\", query, page);\n  const url = `${BASE_URL}/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\n\n  return fetch(url)\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n    .then(({ hits }) => {\n      return hits;\n    });\n}\n\nconst imageAPI = { fetchImage };\n\nexport default imageAPI;\n","const dataExtractor = (pictures) => {\n  //   console.log(pictures);\n  return pictures.map(\n    ({\n      id: imageId,\n      webformatURL: smallImg,\n      largeImageURL: largeImg,\n      tags: imgTag,\n    }) => ({\n      imageId,\n      smallImg,\n      largeImg,\n      imgTag,\n    })\n  );\n};\n\nexport default dataExtractor;\n","import React, { useState, useEffect } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport Container from \"../Container/Container\";\nimport s from \"./App.module.css\";\nimport imageAPI from \"../../services/image-api\";\n\nimport dataExtractor from \"../../utils/dataExtractor\";\n\nconst App = ({ onSubmit }) => {\n  const [pictures, setPictures] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState(null);\n  const [openModal, setOpenModal] = useState(false);\n  const [largeImg, setLargeImg] = useState(\"\");\n\n  const handleFormSubmit = (onSubmit) => {\n    const page = 1;\n    setSearchQuery(onSubmit);\n    setCurrentPage(page);\n    setPictures([]);\n  };\n\n  useEffect(() => {\n    if (searchQuery === \"\") return;\n\n    const fetchPictures = (query, page) => {\n      return imageAPI\n        .fetchImage(query, page)\n        .then((pictures) => {\n          setPictures((prevPictures) => [\n            ...prevPictures,\n            ...dataExtractor(pictures),\n          ]);\n          setIsLoading(false);\n\n          if (pictures.length === 0) {\n            alert(\"Nothing found!\");\n          }\n        })\n        .then(() => {\n          if (currentPage > 1) {\n            scrollDown();\n          }\n        });\n    };\n\n    fetchPictures(searchQuery, currentPage);\n  }, [currentPage, searchQuery]);\n\n  const scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const onLoadMore = () => {\n    setCurrentPage((prevPage) => {\n      return prevPage + 1;\n    });\n\n    setIsLoading(true);\n  };\n\n  const onLargeImgOpen = (imgLink) => {\n    setLargeImg(imgLink);\n    modalToggler();\n  };\n\n  const modalToggler = () => {\n    setOpenModal((prevOpenModal) => {\n      if (prevOpenModal === true) {\n        return false;\n      } else if (prevOpenModal === false) {\n        return true;\n      }\n    });\n  };\n\n  return (\n    <div className={s.App}>\n      {openModal && (\n        <Modal onModalClose={modalToggler} src={largeImg} alt={searchQuery} />\n      )}\n      <Searchbar onSubmit={handleFormSubmit} />\n      <Container>\n        {pictures.length > 0 && (\n          <ImageGallery imageArr={pictures} onModalOpen={onLargeImgOpen} />\n        )}\n      </Container>\n\n      <Container>\n        {isLoading && (\n          <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {pictures.length > 0 && !isLoading && <Button onClick={onLoadMore} />}\n      </Container>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__21w7t\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__21Vb0\"};"],"sourceRoot":""}